(function(){"use strict";var e=function(){this.$projects=$(".projects");this.projectNumber=$(".project").length;this.$buttons=$(".train-line button");this.$project=$(".project");this.counter=1;this.initialize=function(){this.setProjectsWidth();this.moveTheLine();this.getProjectDetails();this.closeDetails()};this.setProjectsWidth=function(){var e=this.projectNumber*339;this.$projects.width(e)};this.moveTheLine=function(){var e=this;e.$buttons.on("click",function(t){t.preventDefault();e.animateLine($(this))})};this.animateLine=function(e){if(e.hasClass("next")){if(this.projectNumber>this.counter){this.$projects.animate({left:"-=343"},500);this.counter=this.counter+1}}else if(this.counter>1){this.$projects.animate({left:"+=343"},500);this.counter=this.counter-1}};this.getProjectDetails=function(){var e=this;e.$project.on("click","div",function(){var t=$(this).attr("class"),n=parseInt(t.match(/(\d+)$/)[0],10)-1;$(".project-detail."+t).length===0?e.fetchProject(n):$("."+t).fadeIn()})};this.fetchProject=function(e){$.ajax({url:document.URL,type:"POST",data:{projectId:e}}).done(function(e){$('section[role="main"]').append(e)})};this.closeDetails=function(){$('section[role="main"]').on("click",".close",function(e){e.preventDefault();$(this).parent().fadeOut()})};this.initialize()},t=new e})();