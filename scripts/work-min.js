!function(){"use strict";{var a=function(){this.$section=$('section[role="main"]'),this.$projects=$(".projects"),this.projectNumber=$(".project").length,this.$buttons=$(".train-line button"),this.$project=$(".project"),this.counter=1,this.initialize=function(){this.setProjectsWidth(),this.moveTheLine(),this.getProjectDetails(),this.closeDetails()},this.setProjectsWidth=function(){var a=339*this.projectNumber;this.$projects.width(a)},this.moveTheLine=function(){var a=this;a.$buttons.on("click",function(b){b.preventDefault(),a.animateLine($(this))})},this.animateLine=function(a){a.hasClass("next")?this.projectNumber>this.counter&&(this.$projects.animate({left:"-=343"},500),this.counter=this.counter+1):this.counter>1&&(this.$projects.animate({left:"+=343"},500),this.counter=this.counter-1)},this.getProjectDetails=function(){var a=this;a.$project.on("click","div",function(){var b=$(this).attr("class"),c=parseInt(b.match(/(\d+)$/)[0],10)-1;0===$(".project-detail."+b).length?a.fetchProject(c):($("."+b).fadeIn(),$(".overlay").fadeIn())})},this.fetchProject=function(a){var b=this;$.ajax({url:document.URL,type:"POST",data:{projectId:a}}).done(function(a){0===$(".overlay").length?$("body").append('<div class="overlay"></div>'):$(".overlay").fadeIn(),b.$section.append(a)})},this.closeDetails=function(){this.$section.on("click",".close",function(a){a.preventDefault(),$(this).parent().fadeOut(),$(".overlay").fadeOut()})},this.initialize()};new a}}();