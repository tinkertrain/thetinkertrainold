(function(){"use strict";var e=function(){this.$section=$('section[role="main"]');this.$projects=$(".projects");this.projectNumber=$(".project").length;this.$buttons=$(".train-line button");this.$project=$(".project");this.counter=1;this.initialize=function(){this.setProjectsWidth();this.moveTheLine();this.getProjectDetails();this.closeDetails()};this.setProjectsWidth=function(){var e=this.projectNumber*339;this.$projects.width(e)};this.moveTheLine=function(){var e=this;e.$buttons.on("click",function(t){t.preventDefault();e.animateLine($(this))})};this.animateLine=function(e){if(e.hasClass("next")){if(this.projectNumber>this.counter){this.$projects.animate({left:"-=343"},500);this.counter=this.counter+1}}else if(this.counter>1){this.$projects.animate({left:"+=343"},500);this.counter=this.counter-1}};this.getProjectDetails=function(){var e=this;e.$project.on("click","div",function(){var t=$(this).attr("class"),n=parseInt(t.match(/(\d+)$/)[0],10)-1;if($(".project-detail."+t).length===0)e.fetchProject(n);else{$("."+t).fadeIn();$(".overlay").fadeIn()}})};this.fetchProject=function(e){var t=this;$.ajax({url:document.URL,type:"POST",data:{projectId:e}}).done(function(e){$(".overlay").length===0?$("body").append('<div class="overlay"></div>'):$(".overlay").fadeIn();t.$section.append(e)})};this.closeDetails=function(){this.$section.on("click",".close",function(e){e.preventDefault();$(this).parent().fadeOut();$(".overlay").fadeOut()})};this.initialize()},t=new e})();